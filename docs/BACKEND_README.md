# ๐ฅ **Depth Studio Backend - Firebase Functions**

**๐ ุชุงุฑูุฎ ุงูุฅูุดุงุก:** ุฏูุณูุจุฑ 2024  
**๐ค ุงููุทูุฑ:** ุนูู ุฌูุฏุช  
**๐ฏ ุงููุดุฑูุน:** Depth Studio - AI-Powered Content Management System  
**โก ุงูุชูููุฉ:** Firebase Functions + TypeScript

---

## ๐ฏ **ูุธุฑุฉ ุนุงูุฉ**

Backend ูุชูุงูู ููุธุงู Depth Studio ูููุฑ:
- ๐ ูุธุงู ูุตุงุฏูุฉ ุดุงูู (Email, Google OAuth, Phone)
- ๐ฅ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- ๐ ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ
- ๐ Firebase Triggers ููุนูููุงุช ุงูุชููุงุฆูุฉ
- ๐ก๏ธ Security Rules ูุญููุฉ

---

## ๐๏ธ **ูููู ุงููุดุฑูุน**

```
backend/
โโโ src/
โ   โโโ auth/                    # ุฏูุงู ุงููุตุงุฏูุฉ
โ   โ   โโโ signup.ts           # ุชุณุฌูู ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ
โ   โ   โโโ login.ts            # ุชุณุฌูู ุงูุฏุฎูู ูุงูุฎุฑูุฌ
โ   โ   โโโ roleManagement.ts   # ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
โ   โ   โโโ permissions.ts      # ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
โ   โโโ triggers/               # Firebase Triggers
โ   โ   โโโ userTriggers.ts     # Triggers ุงููุณุชุฎุฏููู
โ   โโโ __tests__/              # ุงูุงุฎุชุจุงุฑุงุช
โ   โ   โโโ auth.test.ts        # ุงุฎุชุจุงุฑุงุช ุงููุตุงุฏูุฉ
โ   โโโ index.ts                # ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
โโโ package.json                # Dependencies
โโโ tsconfig.json              # TypeScript Config
โโโ jest.config.js             # Jest Config
โโโ README.md                  # ูุฐุง ุงูููู
```

---

## ๐ **ุงูุชุดุบูู ูุงูุชุทููุฑ**

### ๐ฆ **ุชุซุจูุช Dependencies**
```bash
cd backend
npm install
```

### ๐จ **ุงูุจูุงุก ูุงูุชุทููุฑ**
```bash
# ุจูุงุก ุงููุดุฑูุน
npm run build

# ุจูุงุก ูุน ูุฑุงูุจุฉ ุงูุชุบููุฑุงุช
npm run build:watch

# ุชุดุบูู Firebase Emulator
npm run serve

# ุชุดุบูู Firebase Functions Shell
npm run shell
```

### ๐งช **ุงูุงุฎุชุจุงุฑุงุช**
```bash
# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุชุดุบูู ESLint
npm run lint
```

### ๐ **ุงููุดุฑ**
```bash
# ูุดุฑ Functions ุฅูู Firebase
npm run deploy

# ุนุฑุถ Logs
npm run logs
```

---

## ๐ **ุฏูุงู ุงููุตุงุฏูุฉ**

### ๐ **Signup Functions**
- `registerUser()` - ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- `createUserProfile()` - ุฅูุดุงุก ููู ุชุนุฑูู ูููุณุชุฎุฏู

### ๐ **Login Functions**
- `updateLoginInfo()` - ุชุญุฏูุซ ูุนูููุงุช ุชุณุฌูู ุงูุฏุฎูู
- `updateLogoutInfo()` - ุชุญุฏูุซ ูุนูููุงุช ุชุณุฌูู ุงูุฎุฑูุฌ
- `verifyUserStatus()` - ุงูุชุญูู ูู ุญุงูุฉ ุงููุณุชุฎุฏู

### ๐ฅ **Role Management Functions**
- `updateUserRole()` - ุชุญุฏูุซ ุฏูุฑ ุงููุณุชุฎุฏู
- `processRoleApproval()` - ูุนุงูุฌุฉ ุทูุจุงุช ุงูููุงููุฉ
- `sendApprovalNotification()` - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุงูููุงููุฉ

### ๐ **Permissions Functions**
- `getUserPermissions()` - ุฌูุจ ุตูุงุญูุงุช ุงููุณุชุฎุฏู
- `updateUserPermissions()` - ุชุญุฏูุซ ุงูุตูุงุญูุงุช
- `checkPermission()` - ุงูุชุญูู ูู ุตูุงุญูุฉ ูุญุฏุฏุฉ
- `addBrandPermission()` - ุฅุถุงูุฉ ุตูุงุญูุฉ ุจุฑุงูุฏ

---

## โก **Firebase Triggers**

### ๐ค **User Triggers**
- `onUserCreate` - ุนูุฏ ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ
  - ุฅูุดุงุก ุตูุงุญูุงุช ุฃูููุฉ
  - ุฅุฑุณุงู ุฅุดุนุงุฑ ุชุฑุญูุจ
  - ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงููุธุงู

- `onUserUpdate` - ุนูุฏ ุชุญุฏูุซ ุจูุงูุงุช ุงููุณุชุฎุฏู
  - ูุนุงูุฌุฉ ุชุบููุฑ ุงูุฃุฏูุงุฑ
  - ุชุญุฏูุซ ุญุงูุฉ ุงูุชูุนูู
  - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุงูุชุญูู

- `onRoleRequest` - ุนูุฏ ุทูุจ ููุงููุฉ ุนูู ุฏูุฑ
  - ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ูููุฏูุฑูู
  - ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช

---

## ๐ก๏ธ **ุงูุฃูุงู ูุงูุญูุงูุฉ**

### ๐ **Security Rules**
- ููุงุนุฏ ุฃูุงู ูุญููุฉ ูู `firestore.rules`
- ุญูุงูุฉ ุงูุจูุงูุงุช ุญุณุจ ุงูุฃุฏูุงุฑ
- ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู

### ๐ **Authentication**
- ุฏุนู Email/Password
- ุฏุนู Google OAuth
- ุฏุนู Phone Authentication (ุงูุนุฑุงู)
- ูุธุงู ุฃุฏูุงุฑ ูุชูุฏู

### ๐ก๏ธ **Authorization**
- ุตูุงุญูุงุช ุฏููุงููููุฉ
- ุตูุงุญูุงุช ุญุณุจ ุงูุจุฑุงูุฏ
- ุตูุงุญูุงุช ูุฎุตุตุฉ

---

## ๐ **ุงูุงุฎุชุจุงุฑุงุช**

### โ **ุงุฎุชุจุงุฑุงุช ููุชููุฉ**
- โ ุชุญูู ูู ุฃุฑูุงู ุงูููุงุชู ุงูุนุฑุงููุฉ
- โ ุฅูุดุงุก ูููุงุช ุงููุตูุฑูู
- โ ูุธุงู ุงูุตูุงุญูุงุช ุงูุงูุชุฑุงุถูุฉ
- โ TypeScript compilation
- โ Jest testing framework

### ๐งช **ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช**
```bash
npm test
```

---

## ๐ง **ุงูุชูููู**

### ๐ **ูููุงุช ุงูุชูููู**
- `tsconfig.json` - ุฅุนุฏุงุฏุงุช TypeScript
- `jest.config.js` - ุฅุนุฏุงุฏุงุช ุงูุงุฎุชุจุงุฑุงุช
- `package.json` - Dependencies ูุงูู Scripts

### ๐ฅ **Firebase Configuration**
- Firebase Admin SDK ููุนุฏ
- Firestore Database ูุชุตู
- Functions ููุนุฏุฉ ูููุดุฑ

---

## ๐ **ุงูุญุงูุฉ ุงูุญุงููุฉ**

### โ **ููุชูู 100%**
- [x] ูุธุงู ุงููุตุงุฏูุฉ ุงููุงูู
- [x] ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- [x] Firebase Triggers
- [x] Security Rules
- [x] Testing Framework
- [x] TypeScript Support
- [x] Documentation

### ๐ฏ **ุฌุงูุฒ ููุงุณุชุฎุฏุงู**
- โ ุฌููุน ุงูุฏูุงู ููุฎุชุจุฑุฉ
- โ TypeScript ุจุฏูู ุฃุฎุทุงุก
- โ Jest tests ุชุนูู ุจูุฌุงุญ
- โ Firebase Functions ุฌุงูุฒุฉ ูููุดุฑ

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

1. **ูุดุฑ Functions ุฅูู Firebase**
   ```bash
   npm run deploy
   ```

2. **ุฑุจุท Frontend ุจู Backend APIs**
   - ุงุณุชุฎุฏุงู Firebase Functions ูู Frontend
   - ุงุฎุชุจุงุฑ integration ูุงูู

3. **ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุงุฎุชุจุงุฑุงุช**
   - Integration tests
   - End-to-end tests

---

## ๐ **ุงูุฏุนู ูุงูุชูุงุตู**

**๐จโ๐ป ุงููุทูุฑ:** ุนูู ุฌูุฏุช  
**๐ง ุงูุจุฑูุฏ:** [ุงูุจุฑูุฏ ุงูุฅููุชุฑููู]  
**๐ ุงููููุน:** Depth Studio  

---

**๐ ุชู ุฅููุงู Backend ุจูุฌุงุญ - ุฌุงูุฒ ููุฅูุชุงุฌ!** 
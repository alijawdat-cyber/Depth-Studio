/**
 * ==============================================
 * UTILITIES
 * ÙØ¦Ø§Øª Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
 * ==============================================
 */

@use 'sass:map';
@use 'sass:math';
@use '../foundation/variables' as vars;
@use '../foundation/colors' as colors;
@use '../foundation/spacing' as spacing;
@use '../foundation/typography' as typo;
@use '../foundation/breakpoints' as breakpoints;
@use 'mixins' as mixins;


// === Ù‚ÙŠÙ… Ø§Ù„Ø´ÙØ§ÙÙŠØ© ===
$opacity: (
  "0": 0,
  "5": 0.05,
  "10": 0.1,
  "20": 0.2,
  "25": 0.25,
  "30": 0.3,
  "40": 0.4,
  "50": 0.5,
  "60": 0.6,
  "70": 0.7,
  "75": 0.75,
  "80": 0.8,
  "90": 0.9,
  "95": 0.95,
  "100": 1
);

// === Ù…Ø¤Ø´Ø±Ø§Øª Z-Index ===
$z-index: (
  "auto": auto,
  "0": 0,
  "10": 10,
  "20": 20,
  "30": 30,
  "40": 40,
  "50": 50,
  "dropdown": 1000,
  "sticky": 1020,
  "fixed": 1030,
  "modal-backdrop": 1040,
  "modal": 1050,
  "popover": 1060,
  "tooltip": 1070
);

// === Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ¯ÙŠØ±Ø© ===
$border-radius: (
  "none": 0,
  "sm": 0.25rem,   // 4px
  "md": 0.5rem,    // 8px
  "lg": 0.75rem,   // 12px
  "xl": 1rem,      // 16px
  "2xl": 1.5rem,   // 24px
  "3xl": 2rem,     // 32px
  "full": 50%,
  "pill": 9999px
);

// ===============================
// ğŸ¨ DISPLAY & VISIBILITY
// ===============================

.d-none { display: none !important; }
.d-block { display: block !important; }
.d-inline { display: inline !important; }
.d-inline-block { display: inline-block !important; }
.d-flex { display: flex !important; }
.d-inline-flex { display: inline-flex !important; }
.d-grid { display: grid !important; }
.d-table { display: table !important; }

// === Ø§Ù„Ø±Ø¤ÙŠØ© ===
.visible { visibility: visible !important; }
.invisible { visibility: hidden !important; }

// === Ø§Ù„Ø´ÙØ§ÙÙŠØ© ===
@each $name, $value in $opacity {
  .opacity-#{$name} {
    opacity: #{$value} !important;
  }
}

// ===============================
// ğŸ“ POSITIONING
// ===============================

.position-static { position: static !important; }
.position-relative { position: relative !important; }
.position-absolute { position: absolute !important; }
.position-fixed { position: fixed !important; }
.position-sticky { position: sticky !important; }

// === Z-Index ===
@each $name, $value in $z-index {
  .z-#{$name} {
    z-index: #{$value} !important;
  }
}

// === Ø§Ù„Ù…ÙˆØ§Ø¶Ø¹ ===
.top-0 { top: 0 !important; }
.right-0 { right: 0 !important; }
.bottom-0 { bottom: 0 !important; }
.left-0 { left: 0 !important; }

.top-50 { top: 50% !important; }
.right-50 { right: 50% !important; }
.bottom-50 { bottom: 50% !important; }
.left-50 { left: 50% !important; }

.top-100 { top: 100% !important; }
.right-100 { right: 100% !important; }
.bottom-100 { bottom: 100% !important; }
.left-100 { left: 100% !important; }

// ===============================
// ğŸ”² FLEXBOX UTILITIES
// ===============================

// === Direction ===
.flex-row { flex-direction: row !important; }
.flex-row-reverse { flex-direction: row-reverse !important; }
.flex-column { flex-direction: column !important; }
.flex-column-reverse { flex-direction: column-reverse !important; }

// === Justify Content ===
.justify-start { justify-content: flex-start !important; }
.justify-center { justify-content: center !important; }
.justify-end { justify-content: flex-end !important; }
.justify-between { justify-content: space-between !important; }
.justify-around { justify-content: space-around !important; }
.justify-evenly { justify-content: space-evenly !important; }

// === Align Items ===
.align-start { align-items: flex-start !important; }
.align-center { align-items: center !important; }
.align-end { align-items: flex-end !important; }
.align-stretch { align-items: stretch !important; }
.align-baseline { align-items: baseline !important; }

// === Align Self ===
.align-self-start { align-self: flex-start !important; }
.align-self-center { align-self: center !important; }
.align-self-end { align-self: flex-end !important; }
.align-self-stretch { align-self: stretch !important; }

// === Flex Grow/Shrink ===
.flex-grow-0 { flex-grow: 0 !important; }
.flex-grow-1 { flex-grow: 1 !important; }
.flex-shrink-0 { flex-shrink: 0 !important; }
.flex-shrink-1 { flex-shrink: 1 !important; }

// === Flex Wrap ===
.flex-nowrap { flex-wrap: nowrap !important; }
.flex-wrap { flex-wrap: wrap !important; }
.flex-wrap-reverse { flex-wrap: wrap-reverse !important; }

// ===============================
// ğŸ“ SIZING
// ===============================

// === Ø§Ù„Ø¹Ø±ÙˆØ¶ ===
.w-auto { width: auto !important; }
.w-full { width: 100% !important; }
.w-screen { width: 100vw !important; }
.w-min { width: min-content !important; }
.w-max { width: max-content !important; }
.w-fit { width: fit-content !important; }

// === Ø§Ù„Ø§Ø±ØªÙØ§Ø¹Ø§Øª ===
.h-auto { height: auto !important; }
.h-full { height: 100% !important; }
.h-screen { height: 100vh !important; }
.h-min { height: min-content !important; }
.h-max { height: max-content !important; }
.h-fit { height: fit-content !important; }

// === Ø£Ø­Ø¬Ø§Ù… Ù…Ø­Ø¯Ø¯Ø© ===
$sizes: (
  "0": 0,
  "1": 0.25rem,   // 4px
  "2": 0.5rem,    // 8px
  "3": 0.75rem,   // 12px
  "4": 1rem,      // 16px
  "5": 1.25rem,   // 20px
  "6": 1.5rem,    // 24px
  "8": 2rem,      // 32px
  "10": 2.5rem,   // 40px
  "12": 3rem,     // 48px
  "16": 4rem,     // 64px
  "20": 5rem,     // 80px
  "24": 6rem,     // 96px
  "32": 8rem,     // 128px
  "40": 10rem,    // 160px
  "48": 12rem,    // 192px
  "56": 14rem,    // 224px
  "64": 16rem     // 256px
);

@each $name, $size in $sizes {
  .w-#{$name} { width: #{$size} !important; }
  .h-#{$name} { height: #{$size} !important; }
  .size-#{$name} { width: #{$size} !important; height: #{$size} !important; }
}

// === Ø£Ø­Ø¬Ø§Ù… Ø¨Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© ===
@for $i from 5 through 100 {
  @if $i % 5 == 0 {
    .w-#{$i} { width: math.percentage(math.div($i, 100)) !important; }
    .h-#{$i} { height: math.percentage(math.div($i, 100)) !important; }
  }
}

// ===============================
// ğŸ¨ BACKGROUND & BORDERS
// ===============================

// === Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† ===
.bg-transparent { background-color: transparent !important; }
.bg-current { background-color: currentColor !important; }
.bg-primary { background-color: var(--color-primary) !important; }
.bg-secondary { background-color: var(--color-secondary) !important; }
.bg-success { background-color: var(--color-success) !important; }
.bg-warning { background-color: var(--color-warning) !important; }
.bg-error { background-color: var(--color-error) !important; }
.bg-info { background-color: var(--color-info) !important; }
.bg-surface { background-color: var(--color-surface) !important; }
.bg-background { background-color: var(--color-background) !important; }

// === Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†ØµÙˆØµ ===
.text-transparent { color: transparent !important; }
.text-current { color: currentColor !important; }
.text-primary { color: var(--color-primary) !important; }
.text-secondary { color: var(--color-secondary) !important; }
.text-success { color: var(--color-success) !important; }
.text-warning { color: var(--color-warning) !important; }
.text-error { color: var(--color-error) !important; }
.text-info { color: var(--color-info) !important; }
.text-text-primary { color: var(--color-text-primary) !important; }
.text-text-secondary { color: var(--color-text-secondary) !important; }

// === Ø§Ù„Ø­Ø¯ÙˆØ¯ ===
.border { border: 1px solid var(--color-border) !important; }
.border-0 { border: 0 !important; }
.border-t { border-top: 1px solid var(--color-border) !important; }
.border-r { border-right: 1px solid var(--color-border) !important; }
.border-b { border-bottom: 1px solid var(--color-border) !important; }
.border-l { border-left: 1px solid var(--color-border) !important; }

// === Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ¯ÙŠØ±Ø© ===
@each $name, $value in $border-radius {
  .rounded-#{$name} {
    border-radius: #{$value} !important;
  }
}

// === Ø§Ù„Ø¸Ù„Ø§Ù„ ===
@each $level, $shadow in mixins.$elevation-levels {
  .elevation-#{$level} {
    @include mixins.elevation($level);
  }
}

// ===============================
// ğŸŒŠ OVERFLOW
// ===============================

.overflow-auto { overflow: auto !important; }
.overflow-hidden { overflow: hidden !important; }
.overflow-visible { overflow: visible !important; }
.overflow-scroll { overflow: scroll !important; }

.overflow-x-auto { overflow-x: auto !important; }
.overflow-x-hidden { overflow-x: hidden !important; }
.overflow-x-visible { overflow-x: visible !important; }
.overflow-x-scroll { overflow-x: scroll !important; }

.overflow-y-auto { overflow-y: auto !important; }
.overflow-y-hidden { overflow-y: hidden !important; }
.overflow-y-visible { overflow-y: visible !important; }
.overflow-y-scroll { overflow-y: scroll !important; }

// ===============================
// ğŸ–±ï¸ INTERACTION
// ===============================

.cursor-auto { cursor: auto !important; }
.cursor-default { cursor: default !important; }
.cursor-pointer { cursor: pointer !important; }
.cursor-wait { cursor: wait !important; }
.cursor-text { cursor: text !important; }
.cursor-move { cursor: move !important; }
.cursor-help { cursor: help !important; }
.cursor-not-allowed { cursor: not-allowed !important; }

// === ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ ===
.select-none { user-select: none !important; }
.select-text { user-select: text !important; }
.select-all { user-select: all !important; }
.select-auto { user-select: auto !important; }

// === Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø¤Ø´Ø± ===
.pointer-events-none { pointer-events: none !important; }
.pointer-events-auto { pointer-events: auto !important; }

// ===============================
// ğŸ­ VISUAL EFFECTS
// ===============================

// === Ø§Ù„Ù…Ø±Ø´Ø­Ø§Øª ===
.blur-none { filter: blur(0) !important; }
.blur-sm { filter: blur(4px) !important; }
.blur-md { filter: blur(8px) !important; }
.blur-lg { filter: blur(16px) !important; }
.blur-xl { filter: blur(24px) !important; }

// === Ø§Ù„Ø³Ø·ÙˆØ¹ ===
.brightness-50 { filter: brightness(0.5) !important; }
.brightness-75 { filter: brightness(0.75) !important; }
.brightness-100 { filter: brightness(1) !important; }
.brightness-125 { filter: brightness(1.25) !important; }
.brightness-150 { filter: brightness(1.5) !important; }

// === Ø§Ù„ØªØ¨Ø§ÙŠÙ† ===
.contrast-50 { filter: contrast(0.5) !important; }
.contrast-75 { filter: contrast(0.75) !important; }
.contrast-100 { filter: contrast(1) !important; }
.contrast-125 { filter: contrast(1.25) !important; }
.contrast-150 { filter: contrast(1.5) !important; }

// ===============================
// ğŸ”„ TRANSFORMS
// ===============================

.transform { transform: translateX(0) translateY(0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1) !important; }
.transform-none { transform: none !important; }

// === Ø§Ù„Ø¯ÙˆØ±Ø§Ù† ===
.rotate-0 { transform: rotate(0deg) !important; }
.rotate-45 { transform: rotate(45deg) !important; }
.rotate-90 { transform: rotate(90deg) !important; }
.rotate-180 { transform: rotate(180deg) !important; }
.rotate-270 { transform: rotate(270deg) !important; }

// === Ø§Ù„ØªÙƒØ¨ÙŠØ± ===
.scale-0 { transform: scale(0) !important; }
.scale-50 { transform: scale(0.5) !important; }
.scale-75 { transform: scale(0.75) !important; }
.scale-90 { transform: scale(0.9) !important; }
.scale-95 { transform: scale(0.95) !important; }
.scale-100 { transform: scale(1) !important; }
.scale-105 { transform: scale(1.05) !important; }
.scale-110 { transform: scale(1.1) !important; }
.scale-125 { transform: scale(1.25) !important; }
.scale-150 { transform: scale(1.5) !important; }

// ===============================
// ğŸ¬ ANIMATIONS
// ===============================

.animate-none { animation: none !important; }

// === Ø§Ù„Ø¯ÙˆØ±Ø§Ù† ===
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin { animation: spin 1s linear infinite !important; }

// === Ø§Ù„Ù†Ø¨Ø¶ ===
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}
.animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite !important; }

// === Ø§Ù„Ø§Ø±ØªØ¯Ø§Ø¯ ===
@keyframes bounce {
  0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
  50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
}
.animate-bounce { animation: bounce 1s infinite !important; }

// === Ø§Ù„ØªÙ„Ø§Ø´ÙŠ ===
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
.animate-fade-in { animation: fade-in 0.3s ease-in-out !important; }

@keyframes fade-out {
  from { opacity: 1; }
  to { opacity: 0; }
}
.animate-fade-out { animation: fade-out 0.3s ease-in-out !important; }

// === Ø§Ù„Ø§Ù†Ø²Ù„Ø§Ù‚ ===
@keyframes slide-in-up {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}
.animate-slide-in-up { animation: slide-in-up 0.3s ease-out !important; }

@keyframes slide-in-down {
  from { transform: translateY(-100%); }
  to { transform: translateY(0); }
}
.animate-slide-in-down { animation: slide-in-down 0.3s ease-out !important; }

// ===============================
// ğŸ“± RESPONSIVE UTILITIES
// ===============================

// === Ø¥Ø®ÙØ§Ø¡/Ø¥Ø¸Ù‡Ø§Ø± Ù…ØªØ¬Ø§ÙˆØ¨ ===
@include breakpoints.respond-above("sm") {
  .sm\\:block { display: block !important; }
  .sm\\:flex { display: flex !important; }
  .sm\\:grid { display: grid !important; }
  .sm\\:hidden { display: none !important; }
  .sm\\:w-auto { width: auto !important; }
  .sm\\:w-full { width: 100% !important; }
}

@include breakpoints.respond-above("md") {
  .md\\:block { display: block !important; }
  .md\\:flex { display: flex !important; }
  .md\\:grid { display: grid !important; }
  .md\\:hidden { display: none !important; }
  .md\\:w-auto { width: auto !important; }
  .md\\:w-full { width: 100% !important; }
}

@include breakpoints.respond-above("lg") {
  .lg\\:block { display: block !important; }
  .lg\\:flex { display: flex !important; }
  .lg\\:grid { display: grid !important; }
  .lg\\:hidden { display: none !important; }
  .lg\\:w-auto { width: auto !important; }
  .lg\\:w-full { width: 100% !important; }
}

@include breakpoints.respond-above("xl") {
  .xl\\:block { display: block !important; }
  .xl\\:flex { display: flex !important; }
  .xl\\:grid { display: grid !important; }
  .xl\\:hidden { display: none !important; }
  .xl\\:w-auto { width: auto !important; }
  .xl\\:w-full { width: 100% !important; }
}

// ===============================
// ğŸ¨ COMPONENT PATTERNS
// ===============================

// === Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ===
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  padding: var(--spacing-md);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
}

.card-hover {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--border-radius-md);
  padding: var(--spacing-md);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  transition: transform 0.15s ease-out, box-shadow 0.15s ease-out;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.24);
  }
}

// === Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ===
.btn-reset {
  background: none;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}

// === Ø§Ù„ØªÙˆØ³ÙŠØ· ===
.center {
  display: flex;
  align-items: center;
  justify-content: center;
}

.center-absolute {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

// === Ø´Ø¨ÙƒØ© Ù…ØªÙˆØ§Ø²Ù†Ø© ===
.auto-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

// === scrollbar Ù…Ø®ØµØµ ===
.custom-scroll {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) transparent;
  
  &::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--color-border);
    border-radius: 4px;
  }
}

.no-scroll {
  scrollbar-width: none;
  -ms-overflow-style: none;
  
  &::-webkit-scrollbar {
    display: none;
  }
}

// === ØªØ£Ø«ÙŠØ±Ø§Øª Ø®Ø§ØµØ© ===
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.glow {
  box-shadow: 0 0 20px rgba(var(--color-primary-rgb), 0.3);
}

// === Ø¥Ø®ÙØ§Ø¡ Ù„Ù„Ù€ Screen Reader ===
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only-focusable {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
  
  &:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

// ===============================
// ğŸ”„ RTL UTILITIES
// ===============================

[dir="rtl"] {
  .rtl\:text-right { text-align: right !important; }
  .rtl\:text-left { text-align: left !important; }
  .rtl\:mr-auto { margin-right: auto !important; margin-left: 0 !important; }
  .rtl\:ml-auto { margin-left: auto !important; margin-right: 0 !important; }
  
  .flex-row-reverse { flex-direction: row !important; }
  .flex-row { flex-direction: row-reverse !important; }
}

// ===============================
// ğŸ¨ THEME UTILITIES
// ===============================

.light-only {
  [data-theme="dark"] & {
    display: none !important;
  }
}

.dark-only {
  display: none !important;
  
  [data-theme="dark"] & {
    display: block !important;
  }
}

// ===============================
// ğŸ“„ PRINT UTILITIES
// ===============================

@media print {
  .print\:hidden { display: none !important; }
  .print\:block { display: block !important; }
  .print\:inline { display: inline !important; }
  .print\:inline-block { display: inline-block !important; }
}

// ===============================
// ğŸ¨ BACKGROUND UTILITIES
// =============================== 
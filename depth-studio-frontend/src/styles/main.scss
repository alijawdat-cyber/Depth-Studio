/**
 * ==============================================
 * DEPTH STUDIO - Ù…Ù„Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
 * Main Styles Entry Point
 * ==============================================
 */

// ===============================
// ğŸ—ï¸ FOUNDATION SYSTEM
// ===============================

// Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© - ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø£ÙˆÙ„Ø§Ù‹
@use 'foundation/_variables' as vars;
@use 'foundation/_colors' as colors;
@use 'foundation/_spacing' as spacing;
@use 'foundation/_typography' as typo;
@use 'foundation/_breakpoints' as breakpoints;

// ===============================
// ğŸ”§ UTILITIES SYSTEM
// ===============================

// Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø§Øª ÙˆØ§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
@use 'utilities/_mixins' as mixins;
@use 'utilities/_utilities';

// ===============================
// ğŸ“¦ COMPONENTS STYLES
// ===============================

// UI Components
@use 'components/_buttons';
@use 'components/_cards';
@use 'components/_forms';
@use 'components/_tables';

// ===============================
// ğŸ—ï¸ LAYOUT SYSTEM
// ===============================
@use 'layouts/_sidebar';
@use 'layouts/_topbar'; 
@use 'layouts/_main';
@use 'layouts/_responsive';

// ===============================
// ğŸ¨ VUETIFY  
// ===============================

// ØªØ®ØµÙŠØµ Vuetify Ù„ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ù†Ø¸Ø§Ù…Ù†Ø§
.v-application {
  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø·ÙˆØ· Ø§Ù„Ù†Ø¸Ø§Ù…
  font-family: var(--font-family-primary) !important;
  
  // Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù†ØµÙˆØµ
  color: var(--color-text-primary) !important;
  background-color: var(--color-background) !important;
  
  // Ø¯Ø¹Ù… RTL
  direction: rtl;
  text-align: right;
}

// === ØªØ®ØµÙŠØµ Ù…ÙƒÙˆÙ†Ø§Øª Vuetify ===

// Ø§Ù„Ø£Ø²Ø±Ø§Ø±
.v-btn {
  font-family: var(--font-family-primary) !important;
  font-weight: var(--font-weight-medium) !important;
  letter-spacing: var(--letter-spacing-wide) !important;
  @include mixins.border-radius("md");
  @include mixins.transition(all, "fast");
  
  &.v-btn--elevated {
    @include mixins.elevation(2);
    
    &:hover {
      @include mixins.elevation(4);
    }
  }
}

// Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
.v-card {
  @include mixins.border-radius("md");
  @include mixins.elevation(1);
  background-color: var(--color-surface) !important;
  border: 1px solid var(--color-border);
  
  &:hover {
    @include mixins.elevation(2);
  }
  
  .v-card-title {
    @include mixins.text-style("heading-4");
    color: var(--color-text-primary) !important;
  }
  
  .v-card-subtitle {
    @include mixins.text-style("body-small");
    color: var(--color-text-secondary) !important;
  }
  
  .v-card-text {
    @include mixins.text-style("body");
    color: var(--color-text-primary) !important;
  }
}

// Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
.v-field {
  @include mixins.border-radius("md");
  
  .v-field__input {
    font-family: var(--font-family-primary) !important;
    color: var(--color-text-primary) !important;
  }
  
  .v-field__outline {
    color: var(--color-border) !important;
  }
  
  &.v-field--focused .v-field__outline {
    color: var(--color-primary) !important;
  }
}

// Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø§Ø±
.v-app-bar {
  background-color: var(--color-surface) !important;
  border-bottom: 1px solid var(--color-divider) !important;
  @include mixins.backdrop-blur(10px);
}

// Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©
.v-navigation-drawer {
  background-color: var(--color-surface) !important;
  border-color: var(--color-divider) !important;
}

// Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
.v-data-table {
  background-color: var(--color-surface) !important;
  
  .v-data-table__tr {
    border-bottom: 1px solid var(--color-divider) !important;
    
    &:hover {
      background-color: var(--color-hover) !important;
    }
  }
  
  .v-data-table-header__content {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-wide);
    color: var(--color-text-secondary) !important;
  }
}

// ===============================
// ğŸŒ™ THEME SYSTEM
// ===============================

// Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…
[data-theme="dark"] {
  .v-application {
    background-color: var(--color-background) !important;
    color: var(--color-text-primary) !important;
  }
  
  // ØªØ­Ø¯ÙŠØ« Ø£Ù„ÙˆØ§Ù† Vuetify Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…
  .v-btn {
    &.v-btn--variant-elevated {
      background-color: var(--color-surface-variant) !important;
      color: var(--color-text-primary) !important;
    }
  }
  
  .v-card {
    background-color: var(--color-surface) !important;
    border-color: var(--color-border) !important;
  }
  
  .v-field {
    .v-field__input {
      color: var(--color-text-primary) !important;
    }
    
    .v-field__outline {
      color: var(--color-border) !important;
    }
  }
}

// ===============================
// ğŸ¨ GLOBAL STYLES
// ===============================

// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  
  // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  
  // Ø§Ù„Ø®Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
  font-family: var(--font-family-primary);
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-normal);
  color: var(--color-text-primary);
  background-color: var(--color-background);
  
  // Ø¯Ø¹Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
  direction: rtl;
  text-align: right;
  
  // ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ
  @include mixins.mobile-optimized;
}

// Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-family: var(--font-family-display);
  color: var(--color-text-primary);
  line-height: var(--line-height-tight);
}

h1 { 
  font-size: var(--font-size-4xl);
  font-weight: var(--font-weight-bold);
}
h2 { 
  font-size: var(--font-size-3xl);
  font-weight: var(--font-weight-bold);
}
h3 { 
  font-size: var(--font-size-2xl);
  font-weight: var(--font-weight-semibold);
}
h4 { 
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
}
h5 { 
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-medium);
}
h6 { 
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
}

// Ø§Ù„ÙÙ‚Ø±Ø§Øª ÙˆØ§Ù„Ù†ØµÙˆØµ
p {
  margin: 0 0 1rem 0;
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
}

// Ø§Ù„Ø±ÙˆØ§Ø¨Ø·
a {
  color: var(--color-primary);
  text-decoration: none;
  @include mixins.transition(color);
  
  &:hover {
    color: var(--color-primary-variant);
    text-decoration: underline;
  }
  
  &:focus-visible {
    @include mixins.focus-effect;
  }
}

// Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
ul, ol {
  margin: 0 0 1rem 0;
  padding-right: 1.5rem;
  padding-left: 0;
}

// Ø§Ù„ØµÙˆØ±
img {
  max-width: 100%;
  height: auto;
  display: block;
}

// Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
input, textarea, select, button {
  font-family: inherit;
  font-size: inherit;
}

button {
  cursor: pointer;
  
  &:disabled {
    @include mixins.disabled-effect;
  }
}

// ===============================
// ğŸ” FOCUS MANAGEMENT
// ===============================

// Ø¥Ø®ÙØ§Ø¡ outline Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ù†Ø¸Ø§Ù…Ù†Ø§
*:focus {
  outline: none;
}

*:focus-visible {
  @include mixins.focus-effect;
}

// ===============================
// ğŸ“± RESPONSIVE HELPERS
// ===============================

// Ø­Ø§ÙˆÙŠ Ø§Ù„Ù†Ø·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
.app-container {
  min-height: 100vh;
}

// Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
.main-content {
  flex: 1;
  padding: var(--container-padding);
}

@media (max-width: 768px) {
  .main-content {
    padding: var(--spacing-md);
  }
}

// Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
.content-area {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--section-gap) 0;
}

// ===============================
// ğŸ­ ANIMATIONS & TRANSITIONS
// ===============================

// ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ù„Ù„Ø­Ø±ÙƒØ§Øª
.animate-gpu {
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

// Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø­Ø±ÙƒØ§Øª Ù„Ù…Ù† ÙŠÙØ¶Ù„ Ø°Ù„Ùƒ
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// ===============================
// ğŸ“„ PRINT STYLES
// ===============================

@media print {
  * {
    background: transparent !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  body {
    font-family: 'Times New Roman', serif;
    font-size: 12pt;
    line-height: 1.4;
    direction: rtl;
  }
  
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    break-after: avoid;
  }
  
  p, blockquote {
    orphans: 3;
    widows: 3;
  }
  
  .v-app-bar,
  .v-navigation-drawer,
  .v-btn,
  .no-print {
    display: none !important;
  }
}

// ===============================
// ğŸ¨ COMPONENT SYSTEM
// =============================== 

// ğŸ“¦ ØªØ­Ø¯ÙŠØ«: Ù…ÙƒÙˆÙ†Ø§Øª Ù…Ø´ØªØ±ÙƒØ© Ø¥Ø¶Ø§ÙÙŠØ©
// Common Components (Enhanced)
.loading-state {
  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
  --loading-color: var(--color-primary);
}

.empty-state {
  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙØ§Ø±ØºØ©
  min-height: var(--empty-state-min-height, 200px);
}

.error-boundary {
  // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
  --error-boundary-background: var(--color-surface);
}

// ğŸ”§ Utility Classes Ù„Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
.u-loading {
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(var(--color-surface-rgb), 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }
}

.u-error-state {
  border: 1px solid var(--color-error);
  background: var(--color-error-container);
  @include mixins.border-radius("md");
  padding: var(--spacing-md);
}

.u-empty-state {
  min-height: 300px;
  @include mixins.flex-center(column, var(--spacing-md));
  opacity: 0.8;
} 
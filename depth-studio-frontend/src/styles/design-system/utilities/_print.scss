/**
 * ==============================================
 * DEPTH STUDIO DESIGN SYSTEM - PRINT STYLES
 * ==============================================
 * أنماط شاملة ومحسنة للطباعة 
 * مخصصة للتقارير، الفواتير، والمستندات
 * 
 * تشمل:
 * - إعدادات الصفحة والطباعة
 * - أنماط التقارير والجداول
 * - تحسينات الألوان للطباعة
 * - فئات مساعدة للطباعة
 */

// === PRINT RESET ===
// إعادة تعيين أساسية للطباعة

@media print {
  // إخفاء العناصر غير المرغوبة
  *,
  *:before,
  *:after {
    background: transparent !important;
    color: black !important; // الأسود أوضح للطباعة
    box-shadow: none !important;
    text-shadow: none !important;
  }

  // إخفاء العناصر التفاعلية
  .header,
  .sidebar,
  .navbar,
  .navigation,
  .breadcrumb,
  .btn,
  .pagination,
  .modal,
  .tooltip,
  .popover,
  .dropdown,
  .toast,
  .alert:not(.print-include),
  .footer:not(.print-include),
  .no-print {
    display: none !important;
  }

  // إظهار محتوى الطباعة فقط
  .print-only {
    display: block !important;
  }

  .print-inline {
    display: inline !important;
  }

  .print-inline-block {
    display: inline-block !important;
  }

  // === PAGE SETUP ===
  // إعدادات الصفحة

  @page {
    margin: 2cm;
    size: A4;
    
    // رأس الصفحة
    @top-left {
      content: "Depth Studio";
      font-family: 'Cairo', sans-serif;
      font-size: 10pt;
      color: #666;
    }
    
    @top-right {
      content: "تاريخ الطباعة: " counter(page);
      font-family: 'Cairo', sans-serif;
      font-size: 10pt;
      color: #666;
    }
    
    // تذييل الصفحة
    @bottom-center {
      content: "صفحة " counter(page) " من " counter(pages);
      font-family: 'Cairo', sans-serif;
      font-size: 9pt;
      color: #666;
    }
  }

  // صفحة أولى مختلفة
  @page :first {
    @top-left { content: none; }
    @top-right { content: none; }
  }

  // === TYPOGRAPHY FOR PRINT ===
  // الخطوط للطباعة

  body {
    font-family: 'Cairo', 'Times New Roman', serif !important;
    font-size: 12pt !important;
    line-height: 1.4 !important;
    color: black !important;
    direction: rtl !important;
    text-align: right !important;
  }

  // العناوين
  h1, h2, h3, h4, h5, h6 {
    color: black !important;
    font-weight: bold !important;
    page-break-after: avoid !important;
    margin-top: 0 !important;
    margin-bottom: 0.5cm !important;
  }

  h1 {
    font-size: 18pt !important;
    border-bottom: 2pt solid black !important;
    padding-bottom: 0.2cm !important;
    margin-bottom: 1cm !important;
  }

  h2 {
    font-size: 16pt !important;
    margin-top: 1cm !important;
  }

  h3 {
    font-size: 14pt !important;
    margin-top: 0.8cm !important;
  }

  h4, h5, h6 {
    font-size: 12pt !important;
    margin-top: 0.6cm !important;
  }

  // الفقرات
  p {
    margin-bottom: 0.3cm !important;
    orphans: 3 !important;
    widows: 3 !important;
  }

  // === LAYOUT FOR PRINT ===
  // التخطيط للطباعة

  .container,
  .main-content {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    display: block !important;
  }

  // إزالة الحدود والظلال
  .card,
  .panel,
  .box {
    border: 1pt solid #ddd !important;
    box-shadow: none !important;
    margin-bottom: 0.5cm !important;
    page-break-inside: avoid !important;
  }

  // === TABLE STYLES ===
  // أنماط الجداول للطباعة

  .table,
  table {
    width: 100% !important;
    border-collapse: collapse !important;
    margin-bottom: 1cm !important;
    page-break-inside: avoid !important;
    font-size: 10pt !important;
  }

  .table th,
  .table td,
  table th,
  table td {
    border: 1pt solid black !important;
    padding: 0.2cm !important;
    text-align: right !important;
    vertical-align: top !important;
  }

  .table th,
  table th {
    background-color: #f0f0f0 !important;
    font-weight: bold !important;
    color: black !important;
  }

  // جداول مخططة
  .table-striped tbody tr:nth-child(odd),
  table.striped tbody tr:nth-child(odd) {
    background-color: #f9f9f9 !important;
  }

  // تجميد رأس الجدول
  .table thead,
  table thead {
    display: table-header-group !important;
  }

  .table tbody,
  table tbody {
    display: table-row-group !important;
  }

  .table tfoot,
  table tfoot {
    display: table-footer-group !important;
  }

  // === REPORT SPECIFIC STYLES ===
  // أنماط خاصة بالتقارير

  .print-report {
    .report-header {
      text-align: center !important;
      margin-bottom: 1cm !important;
      padding-bottom: 0.5cm !important;
      border-bottom: 2pt solid black !important;

      .company-logo {
        max-height: 3cm !important;
        margin-bottom: 0.5cm !important;
      }

      .company-name {
        font-size: 20pt !important;
        font-weight: bold !important;
        margin-bottom: 0.3cm !important;
      }

      .report-title {
        font-size: 16pt !important;
        margin-bottom: 0.3cm !important;
      }

      .report-date {
        font-size: 12pt !important;
        color: #666 !important;
      }
    }

    .report-summary {
      background-color: #f5f5f5 !important;
      border: 1pt solid #ddd !important;
      padding: 0.5cm !important;
      margin-bottom: 1cm !important;
      page-break-inside: avoid !important;

      .summary-title {
        font-weight: bold !important;
        margin-bottom: 0.3cm !important;
      }

      .summary-stats {
        display: flex !important;
        justify-content: space-between !important;

        .stat-item {
          text-align: center !important;

          .stat-value {
            font-size: 14pt !important;
            font-weight: bold !important;
            display: block !important;
          }

          .stat-label {
            font-size: 10pt !important;
            color: #666 !important;
          }
        }
      }
    }

    .report-section {
      margin-bottom: 1cm !important;
      page-break-inside: avoid !important;

      .section-title {
        font-size: 14pt !important;
        font-weight: bold !important;
        margin-bottom: 0.5cm !important;
        padding-bottom: 0.2cm !important;
        border-bottom: 1pt solid #ccc !important;
      }
    }
  }

  // === INVOICE STYLES ===
  // أنماط الفواتير

  .print-invoice {
    .invoice-header {
      display: flex !important;
      justify-content: space-between !important;
      margin-bottom: 1cm !important;

      .company-info {
        text-align: right !important;

        .company-name {
          font-size: 18pt !important;
          font-weight: bold !important;
          margin-bottom: 0.2cm !important;
        }

        .company-details {
          font-size: 10pt !important;
          line-height: 1.3 !important;
        }
      }

      .invoice-info {
        text-align: left !important;

        .invoice-number {
          font-size: 16pt !important;
          font-weight: bold !important;
          margin-bottom: 0.2cm !important;
        }

        .invoice-date {
          font-size: 12pt !important;
        }
      }
    }

    .client-info {
      background-color: #f9f9f9 !important;
      border: 1pt solid #ddd !important;
      padding: 0.5cm !important;
      margin-bottom: 1cm !important;

      .client-title {
        font-weight: bold !important;
        margin-bottom: 0.3cm !important;
      }
    }

    .invoice-items {
      .items-table {
        width: 100% !important;
        margin-bottom: 1cm !important;

        th {
          background-color: #333 !important;
          color: white !important;
        }

        .item-description {
          width: 40% !important;
        }

        .item-quantity,
        .item-price,
        .item-total {
          width: 15% !important;
          text-align: center !important;
        }

        .total-row {
          font-weight: bold !important;
          background-color: #f0f0f0 !important;
        }
      }
    }

    .invoice-footer {
      margin-top: 1cm !important;
      padding-top: 0.5cm !important;
      border-top: 1pt solid #ddd !important;

      .payment-terms {
        font-size: 10pt !important;
        color: #666 !important;
      }

      .signature-area {
        margin-top: 1cm !important;
        text-align: left !important;

        .signature-line {
          border-bottom: 1pt solid black !important;
          width: 5cm !important;
          margin-bottom: 0.3cm !important;
        }

        .signature-label {
          font-size: 10pt !important;
        }
      }
    }
  }

  // === CHARTS AND GRAPHICS ===
  // الرسوم البيانية والمخططات

  .chart,
  .graph {
    page-break-inside: avoid !important;
    margin-bottom: 1cm !important;

    // إخفاء العناصر التفاعلية في المخططات
    .tooltip,
    .legend-interactive,
    .zoom-controls {
      display: none !important;
    }

    // تحسين وضوح النص في المخططات
    text {
      font-family: 'Cairo', sans-serif !important;
      font-size: 10pt !important;
    }
  }

  // === LISTS FOR PRINT ===
  // القوائم للطباعة

  ul, ol {
    margin-bottom: 0.5cm !important;
    padding-right: 1cm !important;
  }

  li {
    margin-bottom: 0.1cm !important;
    page-break-inside: avoid !important;
  }

  // === FORMS FOR PRINT ===
  // النماذج للطباعة

  .print-form {
    .form-group {
      margin-bottom: 0.5cm !important;
      page-break-inside: avoid !important;

      .form-label {
        font-weight: bold !important;
        margin-bottom: 0.1cm !important;
        display: block !important;
      }

      .form-control {
        border: none !important;
        border-bottom: 1pt solid black !important;
        background: transparent !important;
        padding: 0.1cm 0 !important;
        min-height: 0.6cm !important;
        display: block !important;
        width: 100% !important;
      }
    }

    .form-row {
      display: flex !important;
      gap: 1cm !important;
      margin-bottom: 0.5cm !important;

      .form-group {
        flex: 1 !important;
        margin-bottom: 0 !important;
      }
    }
  }

  // === PAGE BREAKS ===
  // فواصل الصفحات

  .page-break-before {
    page-break-before: always !important;
  }

  .page-break-after {
    page-break-after: always !important;
  }

  .page-break-inside-avoid {
    page-break-inside: avoid !important;
  }

  .keep-together {
    page-break-inside: avoid !important;
  }

  // === QR CODES AND BARCODES ===
  // أكواد QR والباركود

  .qr-code,
  .barcode {
    page-break-inside: avoid !important;
    margin: 0.5cm 0 !important;
    text-align: center !important;

    img {
      max-width: 3cm !important;
      height: auto !important;
    }

    .code-text {
      font-family: 'Courier New', monospace !important;
      font-size: 10pt !important;
      margin-top: 0.2cm !important;
    }
  }

  // === WATERMARK ===
  // العلامة المائية

  .print-watermark {
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) rotate(-45deg) !important;
    font-size: 72pt !important;
    color: rgba(0, 0, 0, 0.1) !important;
    z-index: -1 !important;
    pointer-events: none !important;
  }

  // === UTILITIES ===
  // فئات مساعدة للطباعة

  .print-text-center { text-align: center !important; }
  .print-text-left { text-align: left !important; }
  .print-text-right { text-align: right !important; }

  .print-bold { font-weight: bold !important; }
  .print-italic { font-style: italic !important; }
  .print-underline { text-decoration: underline !important; }

  .print-small { font-size: 10pt !important; }
  .print-large { font-size: 14pt !important; }

  .print-margin-bottom { margin-bottom: 0.5cm !important; }
  .print-margin-top { margin-top: 0.5cm !important; }

  .print-border { border: 1pt solid black !important; }
  .print-border-top { border-top: 1pt solid black !important; }
  .print-border-bottom { border-bottom: 1pt solid black !important; }

  .print-background-gray { background-color: #f0f0f0 !important; }
  .print-background-light { background-color: #f9f9f9 !important; }

  // === RTL SUPPORT FOR PRINT ===
  // دعم الاتجاه العربي في الطباعة

  [dir="rtl"] {
    direction: rtl !important;
    text-align: right !important;

    .table th,
    .table td,
    table th,
    table td {
      text-align: right !important;
    }

    .invoice-header {
      .company-info {
        text-align: right !important;
      }

      .invoice-info {
        text-align: left !important;
      }
    }

    ul, ol {
      padding-right: 1cm !important;
      padding-left: 0 !important;
    }
  }

  // === PRINT OPTIMIZATION ===
  // تحسينات الطباعة

  // منع كسر النص في الأماكن غير المرغوبة
  .nowrap { white-space: nowrap !important; }
  
  // تحسين جودة الصور للطباعة
  img {
    max-width: 100% !important;
    height: auto !important;
    page-break-inside: avoid !important;
  }
  
  // إزالة خلفيات الروابط
  a {
    text-decoration: underline !important;
    color: black !important;
  }
  
  // إظهار عناوين URL للروابط المهمة
  a.print-url:after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666;
  }
} 